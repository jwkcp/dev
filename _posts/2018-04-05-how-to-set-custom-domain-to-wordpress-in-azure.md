---
layout: post
title: 애저(Azure)에서 워드프레스 커스텀 도메인 설정하기
tags: wordpress
comments: true
---
  
## 순서
1. 애저(Azure) 워드프레스가 설치된 리소스를 선택
2. '사용자 지정 도메인' 선택 (여기서 4번 순서의 도메인과 맵핑할 IP를 볼 수 있다.)
3. A레코드 또는 cname 중 어떤 것으로 할 것인지 생각해서 결정하고(이건 본인 맘이지만 좀 더 자세한 가이드를 보고 싶다면 [여기](https://docs.microsoft.com/ko-kr/azure/app-service/app-service-web-tutorial-custom-domain) 클릭)
  
*- 여기서 부터는 A레코드로 설정한다고 가정했을 때*
  
4. '사용자 지정 도메인' 메뉴에서 '호스트 이름 추가'를 누르면 맵핑할 커스텀 도메인 입력 후 유효성 검사 절차가 나옴.
5. 4번에서 얻은 TXT 설정 값을 기억해두고
6. 도메인 구매한 곳에 가서 해당 워드프레스 애저 서비스의 IP를 A레코드에 입력, 도메인 소유자 확인을 위해 기억해둔 TXT 값 입력
7. 다시 '사용자 지정 도메인' 메뉴의 '호스트 이름 추가'로 돌아와서 유효성 검사를 누르면 (A레코드와 TXT를 잘 설정했다면) 통과!
8. 커스텀 도메인을 입력해보면 웹사이트가 잘 뜨는 것을 확인할 수 있다.
  
## 문제
이렇게 mydomain.com 이라는 커스텀 도메인을 치면 자동으로 http://{서비스명}.azurewebsites.net 으로 포워딩되는 현상을 목격할 수 있다. 이 문제는 워드프레스 설정에서 해결해야 한다.  
'워드프레스 > 설정 > 일반' 으로 들어가면 접속 도메인 주소를 설정할 수 있는 화면이 나온다. 여기서 맵핑할 커스텀 도메인을 입력하면 http://{서비스명}.azurewebsites.net 로 포워딩되지 않고 입력한 커스텀 도메인으로 잘 접속되는 것을 확인할 수 있다. 

