---
layout: post
title: 라즈베리파이에서 파이카메라를 이용해 CCTV 만들 때 에러 및 해결방법
tags: how-to, raspberrypi
comments: true
---

라즈베리파이에 파이카메라를 연결 후 motion을 실행하면 움직임이 감지될 경우 이미지로 저장하는 간단한 CCTV를 만들 수 있다. 이 과정에서 발생하기 오류에 대한 해결책을 아래에 간단히 메모해 둔다. 기본적인 motion 설치와 라즈베리파이 카메라 활성화, motion.conf는 이미 했다고 가정한다.

---
#### **1. 카메라 자체가 동작하는지 확인하기**
raspistill -o sample.jpg를 실행해보자. 파이카메라 렌즈 옆에 빨간색 불이 켜진다면 카메라는 정상이다. 촬영된 사진은 raspistill -o sample.jpg 명령을 실행했던 디렉토리에 저장된다. 해당 디렉토리에 저장 권한이 없을 경우 이미지가 저장되지 않을 수 있다.


#### **2. motion을 실행하면 “Failed to open video device /dev/video0" 에러가 나온다.**
/etc 아래 video0가 있는지 확인해보자. 이 경우 드라이버가 설치되어 있지 않아서 발생할 확률이 높다. 아래의 명령으로 드라이버를 설치하지.    
    
**sudo modprobe bcm2835-v4l2** *(주의! 마지막 4와 2 사이에 숫자 1이 아니라 알파벳 소문자 l이다.)*

#### **3. 웹브라우저 127.0.0.1:8081을 통해 스트리밍되지 않는다.**
motion 실행 권한이 부족해서 그럴 수 있다. sudo motion 으로 실행해보자.
   
