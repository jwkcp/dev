---
layout: post
title: 어메이징 AWS!
tags: aws
comments: true
---

AWS를 처음 써봤을 때 리전(Region)에 대한 개념이 없었다. 그러다보니 버지니아에 EC2 인스턴스를 만든 걸 모르고 오레곤에 또 인스턴스를 만들곤 했다. 리전을 바꾸면 생성한 인스턴스나 서비스 숫자도 바뀌니까 까맣게 모르고 있다가 서비스 비용이 왕창 나와서 깜짝 놀랐던 적이 있다. 지금 생각해보면 좀 어이없는 실수긴 하지만 당시에는 정말 원인을 전혀 몰라 헤맸던 기억이 있다. 이때 AWS 고객 서비스팀에서 잘 해결해주어서 비용을 지불하지 않고 무사히 넘어갈 수 있었다.    
    
그 이후로 서비스를 만질 때는 어떤게 프리티어인지 꼼꼼히 살폈고, Free-tier eligible 글씨가 있는지 잘 보려고 노력했다. EIP같은 서비스를 사용할 때는 1개만 할당 받았는지 EC2랑 붙어있는지 꼼꼼히 체크했고 AWS서비스들의 특징도 몇 권을 책을 통해 익혔다.    
    
그런데 얼마전 또 의도하지 않은 비용이 발생했다. 계속 꼼꼼히 챙기며 테스트한다고 했는데 이건 뭐지.. 청구서를 보니 RDS가 문제였다.     
[![aws1.png](https://i.postimg.cc/qRFP56LR/aws1.png)](https://postimg.cc/1np7gtbh)
안돼!!! OTL     
    
이상하다. 분명 RDS는 프리티어 대상에 포함되어 있었고 Multi-AZ 서비스도 선택하지 않았는데..     
[![aws2.png](https://i.postimg.cc/y6MdJDHs/aws2.png)](https://postimg.cc/Z0LZ2KnM)
AWS가 1년간 제공하는 프리티어 서비스 목록     
      
자세히 보니 RDS는 여러가지 데이터베이스 엔진을 제공하는데 그중에 Mysql은 2가지를 제공하고 있었다. 얼마전 들었던 AWS 강의에서 Mysql/Aurora에 대한 이야기를 들어 한번 써보자고 선택했는데 이게 문제였다. Mysql은 프리티어 목록에 들어가지만 Mysql(Aurora)는 프리티어에 해당되지 않았다.    
[![aws3.png](https://i.postimg.cc/NG9Ff1Zd/aws3.png)](https://postimg.cc/8sGNZrpv)
AWS가 제공하는 데이터베이스 엔진 종류    
     
당시엔 몰랐는데 다시 살펴보니 Mysql(Aurora)에는 micro 인스턴스가 없다.     
[![aws4.png](https://i.postimg.cc/5jdZxcDW/aws4.png)](https://postimg.cc/YLRX3Ppd)
Mysql(Aurora)는 프리티어가 없다. small을 무심코 선택한 내 잘못이었다.     
      
정식 서비스를 돌려본 것이 아니었다해도 내가 직접 프리티어가 아닌 서비스를 선택했으니 거기에 대한 비용 지불은 정당한 것이었고 나도 딱히 할 말은 없었다. 하지만 통장 잔고가 저 예상비용보다 작게 남아있는 걸 보고 AWS 고객센터에 상황 설명을 한번 해보자고 생각했다. 안되면 어쩔 수 없었다. 조심했으나 부주의했던 내 탔이니까.     
     
오 마이갓! AWS 파이넨스 팀에서 이 실수로 발생한 비용에 대해 환불해주기로 했단다. 그러면서 비용 결제에 사용할 수 있는 크레딧을 넣어주었다. 감동..     
[![aws5.png](https://i.postimg.cc/wMsC8xfk/aws5.png)](https://postimg.cc/RJ4swmz3)
AWS 고객센터 이메일 내용 일부    
     
[![aws6.png](https://i.postimg.cc/ZRymZL03/aws6.png)](https://postimg.cc/ygBtycmY)
AWS 고객센터에서 넣어준 크래딧

---

요 며칠 이 문제때문에 마음 고생을 좀 했다. 예상치 못하게 발생한 비용도 비용이었지만, AWS는 그만 만져봐야 하나. 리노드나 디지털오션같은 일반 VPS를 써야하나. GAE는 어떤가. 하는 고민도 있었다. AWS 고객센터는 이런 걱정을 이해하고 정말 빠르게 해결해 주었는데 그게 나에겐 일종의 "더 도전해봐, 우리가 있잖아" 같은 일종의 신호로 인식되었다.     
    
이미 걱정으로 가득했던 마음이 풀어졌기 때문에 저 비용을 다시 지불하라고 해도 흔쾌히 그럴 것 같다. 내 마음속의 걱정은 어쩌면 이번에 발생한 저 비용 자체가 아니라 - AWS를 사용하면서 - 앞으로도 생길 수 있는 불확실한 사고에 대한 우려였는지도 모른다.    
     
훌륭한 서비스에 훌륭한 직원들.    
    
고마워 AWS!   

---

이 글은 브런치에서 이곳으로 블로그를 이사하면서 옮겨진 글이며 2017년 6월 27일 쓰였습니다.
