---
layout: post
title: 깃허브(Github)에서 공개키 추가 시 Key already in use라는 에러가 발생할 경우
tags: github
comments: true
---

깃허브에서 공개키, 예를 들어 id_rsa.pub를 추가해서 사용하려고 할 때 이미 키가 사용되고 있다는 Key already in use 라는 에러를 만날 때가 있다. 이건 이미 해당 공개키다 다른 저장소에 등록되어 있을 경우다. 하나의 계정으로 여러 저장소에 깃허브 키 인증을 하려면 어떻게 해야 할까. 먼저 어느 저장소에 해당 키가 등록되어 있는지 보려면 아래 명령을 실행해본다. 그러면 깃허브 아이디 뒤에 저장소명이 나온다.

```
# 만약 키 경로가 ~/.ssh/id_rsa.pub 이라면

ssh -T -ai ~/.ssh/id_rsa git@github.com
```

### 중복키 오류 해결 방법
위에 언급한 것처럼 하나의 계정으로 여러 저장소에 깃허브 키 인증을 사용하려면 각 저장소가 아니라 깃허브 계정 자체에 키를 등록해주면 된다.

**저장소 키 등록 메뉴**
저장소명 클릭 > Settings > Deploy Keys

**깃허브 자체의 키 등록 메뉴**
오른쪽 상단 계정 클릭 > Settings > SSH and GPG keys 

---
저장소에 등록된 키를 지우고 깃허브 자체 키 등록 메뉴를 통해 등록하면 이 오류가 해결되고 원하는 방식으로 사용할 수 있다.
